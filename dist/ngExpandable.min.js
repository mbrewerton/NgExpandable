angular.module("mbrewerton.ngExpandable",["ngAnimate"]).directive("expandable",function(){return{controller:["$scope","$element","$attrs","$timeout",function(e,n,a,t){t(function(){var a=n[0];a.style.overflow="hidden";var o,l="ng-expandable",i="collapsed",d={base:"ng-expandable-handle",icon:"ng-expandable-handle-icon",header:"ng-expandable-handle-header"},s=(window.getComputedStyle(a,null),!angular.isDefined(e.open)||e.open),r=parseFloat(a.scrollHeight),c=angular.element(document.getElementById(e.handle)),u={icon:"icon",header:"header"},p=e.handleType||u.header,h=!1,f=!angular.isDefined(e.open)||e.open,g=e.speed||.5,b=function(){return r};s||(a.style.display="none");var y,m=function(e){e?(n.addClass(i),c.addClass(i)):(n.removeClass(i),c.removeClass(i))},v=function(){t.cancel(o),r=a.scrollHeight,s?(a.style.height=b()+"px",m(!1),x(function(){a.style.height="auto"})):(a.style.height=b()+"px",t(function(){a.style.height=0,x(function(){m(!0)})}))};a.style.transition=(y=e.easing,(g||.5)+"s height "+(y||"ease-in-out"));var x=function(e){o=t(function(){e()},1e3*g)},C=function(){f||h||(a.style.display="block",h=!0),s=!s,v()},w=function(e,n){console.error("[Error(mbrewerton.ngExpandable)] - "+e)};c[0]?c[0].addEventListener("click",C):angular.isDefined(e.open)?e.$watch("open",function(e,n){e!==n&&C()}):a.addEventListener("click",C),function(){switch(n.addClass(l),c.addClass(d.base),p){case u.header:c.addClass(d.header);break;case u.icon:c.addClass(d.icon);break;default:w("Unknown handle type specified.\nExpected one of: "+Object.keys(u).map(function(e){return u[e]}).join(", ")+'. \nGot "'+p+'"')}}(),v()})}],restrict:"A",scope:{handle:"@",speed:"=?",easing:"@?",open:"=?"}}});