angular.module("mbrewerton.ngExpandable",["ngAnimate"]).directive("expandable",function(){return{controller:["$scope","$element","$attrs","$timeout",function(e,n,a,t){t(function(){var a=n[0];a.style.overflow="hidden";var l,d,o="ng-expandable",i="collapsed",s={base:"ng-expandable-handle",icon:"ng-expandable-handle-icon",header:"ng-expandable-handle-header"},r=(window.getComputedStyle(a,null),!0),c=parseFloat(a.scrollHeight),u=angular.element(document.getElementById(e.handle)),h={icon:"icon",header:"header"},p=e.handleType||h.header,g=e.speed||.5,f=function(){return c},b=function(e){e?(n.addClass(i),u.addClass(i)):(n.removeClass(i),u.removeClass(i))},m=function(){t.cancel(l),c=a.scrollHeight,r?(a.style.height=f()+"px",b(!1),v(function(){a.style.height="auto"})):(a.style.height=f()+"px",t(function(){a.style.height=0,v(function(){b(!0)})}))};a.style.transition=(d=e.easing,(g||.5)+"s height "+(d||"ease-in-out"));var y=function(){r=!r,m()},v=function(e){l=t(function(){e()},1e3*g)},x=function(e,n){console.error("[Error(mbrewerton.ngExpandable)] - "+e)};u?u[0].addEventListener("click",y):a.addEventListener("click",y),function(){switch(n.addClass(o),u.addClass(s.base),p){case h.header:u.addClass(s.header);break;case h.icon:u.addClass(s.icon);break;default:x("Unknown handle type specified.\nExpected one of: "+Object.keys(h).map(function(e){return h[e]}).join(", ")+'. \nGot "'+p+'"')}}(),m()})}],restrict:"A",scope:{easing:"@?",handle:"@",handleType:"@?",speed:"=?"},transclude:!0,template:'<div class="ng-expandable-inner" ng-transclude></div>'}});