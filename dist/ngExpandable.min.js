angular.module("mbrewerton.ngExpandable",["ngAnimate"]).directive("expandable",function(){return{controller:["$scope","$element","$attrs","$timeout",function(e,n,a,t){t(function(){var a=n[0];a.style.overflow="hidden";var d,l,o="ng-expandable",i="collapsed",s={base:"ng-expandable-handle",icon:"ng-expandable-handle-icon",header:"ng-expandable-handle-header"},c=(window.getComputedStyle(a,null),!0),r=parseFloat(a.scrollHeight),u=angular.element(document.getElementById(e.handle)),h={icon:"icon",header:"header"},p=e.handleType||h.header,g=e.speed||.5,f=function(){return r},b=function(e){e?(n.addClass(i),u.addClass(i)):(n.removeClass(i),u.removeClass(i))},m=function(){t.cancel(d),r=a.scrollHeight,c?(a.style.height=f()+"px",b(!1),y(function(){a.style.height="auto"})):(a.style.height=f()+"px",t(function(){a.style.height=0,y(function(){b(!0)})}))};a.style.transition=(l=e.easing,(g||.5)+"s height "+(l||"ease-in-out"));var x=function(){c=!c,m()},y=function(e){d=t(function(){e()},1e3*g)},v=function(e,n){console.error("[Error(mbrewerton.ngExpandable)] - "+e)};u[0]?u[0].addEventListener("click",x):angular.isDefined(e.open)?e.$watch("open",function(e,n){e!=n&&expandFunction()}):a.addEventListener("click",x),function(){switch(n.addClass(o),u.addClass(s.base),p){case h.header:u.addClass(s.header);break;case h.icon:u.addClass(s.icon);break;default:v("Unknown handle type specified.\nExpected one of: "+Object.keys(h).map(function(e){return h[e]}).join(", ")+'. \nGot "'+p+'"')}}(),m()})}],restrict:"A",scope:{easing:"@?",handle:"@",handleType:"@?",speed:"=?"},transclude:!0,template:'<div class="ng-expandable-inner" ng-transclude></div>'}});